<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="user_management.title" unit="UserManagement" init="init">

        <navigation outcome="nav_user_profile" target="UserProfile" />
        <navigation outcome="nav_user_activty" target="UserActivity" />
        <navigation outcome="nav_edit_user" target="UserEdit" />
        <navigation outcome="nav_user_bulk_upload" target="UserBulkUpload" />

        <menuitem label="user_management.menu_item_title" icon="UserManagement" order="2">
            <userRole>Admin</userRole>
            <userRole>ProgramManager</userRole>
        </menuitem>

        <action label="user_management.action.add_new_user" action="add_user"/>
        <action label="user_management.action.add_multiple_users" action="add_multiple_users"/>

        <table title="user_management.table.users">
            <collectionSource function="UserController:getAllUsers"/>
            <column heading="client.firstName">
                <attributeName>firstName</attributeName>
            </column>
            <column heading="client.surname">
                <attributeName>surname</attributeName>
            </column>
            <column heading="client.nickname">
                <attributeName>nickname</attributeName>
            </column>
            <column heading="client.language">
                <attributeName>client_LanguageKey.language</attributeName>
            </column>            
            <column heading="client.mobileNumber">
                <attributeName>mobileNumber</attributeName>
            </column>
            <column heading="group_edit.table.role_name">
                <attributeName>client_RoleKey.roleName</attributeName>
            </column>
             <column heading="group_edit.table.reg_date">
                <attributeName>registered</attributeName>
            </column>
             <column heading="client.isActive">
                <attributeName>isActive</attributeName>
            </column>
             <column heading="group">
                <attributeName>group.name</attributeName>
            </column>
            <rowAction label="edit" action="edit_user">
                <binding variable="uClient"/>
            </rowAction>
            <rowAction label="user_management.table.row.remove_user" action="remove_user">
                <binding variable="uClient"/>
                <confirm subject="user_management.table.remove_user.confirm.subject" body="user_management.table.remove_user.confirm.body"/>
            </rowAction>
            <rowAction label="user_management.table.row.view_profile" action="view_profile">
                <binding variable="uClient"/>
            </rowAction>
            <rowAction label="user_management.table.row.view_activity" action="view_activity">
                <binding variable="uClient"/>
            </rowAction>
        </table>
    </view>
</ui>