<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
     xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="content_viewer.title" unit="ContentViewer" init="init" >

        <navigation outcome="nav_content_filter" target="ContentFilter"/>
        <navigation outcome="nav_umbrella_edit" target="TopicEdit"/>
        <navigation outcome="nav_topic_link_subtopic" target="SubTopicOrderEdit"/>
        <navigation outcome="nav_subtopic_link_sequence_edit" target="SequenceOrderEdit"/>
        <navigation outcome="nav_subtopic_edit" target="SubTopicEdit"/>
        <navigation outcome="nav_sequence_edit" target="SequenceEdit"/>
        <navigation outcome="nav_activity_edit" target="ActivityEdit"/>
        <navigation outcome="nav_activity_order_edit" target="ActivityOrderEdit"/>
        <navigation outcome="nav_message_edit" target="MessageEdit"/>
        <navigation outcome="nav_message_order_edit" target="MessageOrderEdit"/>

        <action action="back" label="back"/>

        <table title="topic">
            <collectionSource variable="topics"/>
            <column heading="topic.topicID">
                <attributeName>umbrellaID</attributeName>
            </column>
            <column heading="topic.topicName">
                <attributeName>umbrellaName</attributeName>
            </column>
            <column heading="topic.topicFlags">
                <attributeName>umbrellaFlags</attributeName>
            </column>
            <column heading="topic.topicMaxDuration">
                <attributeName>umbrellaMaxDuration</attributeName>
            </column>
            <rowAction label="content_viewer.edit_topic" action="editUmbrella">
                <binding variable="topic"/>
            </rowAction>
        </table>

        <table title="sub_topic_orders">
            <collectionSource variable="subTopicOrdersTemp"/>
            <column heading="topic.topicID">
                <attributeName>topicID</attributeName>
            </column>
            <column heading="sub_topic_order.subTopicOrderNum">
                <attributeName>subTopicOrderNum</attributeName>
            </column>
            <column heading="sub_topic.subTopicID">
                <attributeName>subTopicID</attributeName>
            </column>
            <column heading="sub_topic.subTopicName">
                <attributeName>subTopicName</attributeName>
            </column>
            <column heading="sub_topic.subTopicReminderSMS">
                <attributeName>subTopicReminderSMS</attributeName>
            </column>
            <column heading="sub_topic.subTopicReminderTime">
                <attributeName>subTopicReminderTime</attributeName>
            </column>
            <column heading="sub_topic.subTopicEscalationTime">
                <attributeName>subTopicEscalationTime</attributeName>
            </column>
            <column heading="sub_topic.subTopicMaxDuration">
                <attributeName>subTopicMaxDuration</attributeName>
            </column>
            <column heading="sub_topic.subTopicType">
                <attributeName>subTopicType</attributeName>
            </column>
            <column heading="sub_topic.subTopicLanguage">
                <attributeName>language</attributeName>
            </column>
            <rowAction action="editSubTopic" label="content_viewer.subtopics.edit_subtopic">
                <binding variable="subTopicOrderTemp"/>
            </rowAction>
            <rowAction action="editSubTopicOrder" label="content_viewer.edit_sub_topic_order">
                <binding variable="subTopicOrderTemp"/>
            </rowAction>
        </table>

        <table title="content_viewer.sequence">
            <collectionSource variable="sequenceOrders"/>
            <column heading="sequence.sequenceID">
                <attributeName>sequence_sequenceOrder.sequenceID</attributeName>
            </column>
            <column heading="sequence.sequenceName">
                <attributeName>sequence_sequenceOrder.sequenceName</attributeName>
            </column>
            <column heading="sequenceOrder.sequenceOrder">
                <attributeName>sequenceOrder</attributeName>
            </column>
            <rowAction action="editSequence" label="content_viewer.sequence.edit_sequence">
                <binding variable="sequenceOrder"/>
            </rowAction>
            <rowAction action="editSequenceOrder" label="content_viewer.sequence.edit_sequence_order">
                <binding variable="sequenceOrder"/>
            </rowAction>
        </table>

        <table title="content_viewer.activities">
            <collectionSource variable="activityOrdersTemp"/>
            <column heading="activity.activityID">
                <attributeName>activity_id</attributeName>
            </column>
            <column heading="activityOrder">
                <attributeName>activity_order</attributeName>
            </column>
            <column heading="activity.activityChannel">
                <attributeName>activity_channel</attributeName>
            </column>
            <column heading="content_viewer.activity_type">
                <attributeName>activity_type</attributeName>
            </column>
            <column heading="activity.activityIVRstring">
                <attributeName>ivr_string</attributeName>
            </column>
            <column heading="activity.activityIVRLength">
                <attributeName>ivr_length_sec</attributeName>
            </column>
            <column heading="content_viewer.first_sms">
                <attributeName>first_sms</attributeName>
            </column>
            <rowAction action="editActivity" label="content_viewer.activities.edit_activity">
                <binding variable="activityOrderTemp"/>
            </rowAction>
            <rowAction action="editActivityOrder" label="content_viewer.activities.edit_activity_order">
                <binding variable="activityOrderTemp"/>
            </rowAction>
        </table>

        <table title="content_viewer.messages">
            <collectionSource variable="messageOrders"/>
            <column heading="message.messageID">
                <attributeName>patternMessageText_Message._MTID</attributeName>
            </column>
            <column heading="message.messageText">
                <attributeName>patternMessageText_Message._MT_text</attributeName>
            </column>
            <column heading="messageOrder">
                <attributeName>_MTID_order</attributeName>
            </column>
            <column heading="message.maxMultipleChoice">
                <attributeName>patternMessageText_Message.maxMultipleChoice</attributeName>
            </column>
            <column heading="message.correctAnswer">
                <attributeName>patternMessageText_Message.correctAnswer</attributeName>
            </column>
            <column heading="message.informCorrectText">
                <attributeName>patternMessageText_Message.informCorrectText</attributeName>
            </column>
            <rowAction action="editMessage" label="content_viewer.messages.edit_message">
                <binding variable="messageOrder"/>
            </rowAction>
            <rowAction action="editMessageOrder" label="content_viewer.messages.edit_message_order">
                <binding variable="messageOrder"/>
            </rowAction>
        </table>

        <info label="content_viewer.topic_filter">
            <binding variable="topic">
                <attribute name="umbrellaID"/>
            </binding>
        </info>

        <info label="content_viewer.subtopic_filter">
            <binding variable="subTopic">
                <attribute name="topicID"/>
            </binding>
        </info>

        <info label="content_viewer.sequence_filter">
            <binding variable="sequence">
                <attribute name="sequenceID"/>
            </binding>
        </info>

        <info label="content_viewer.activity_filter">
            <binding variable="activity">
                <attribute name="patternID"/>
            </binding>
        </info>

        <info label="content_viewer.message_filter">
            <binding variable="o_message">
                <attribute name="_MTID"/>
            </binding>
        </info>
    </view>
</ui>
    <!-- <table title="sub_topic_management.table.title">
            <collectionSource variable="subTopics"/>
            <column heading="sub_topic_management.topicID">
                <attributeName>topicID</attributeName>
            </column>
            <column heading="sub_topic_management.topicName">
                <attributeName>topicName</attributeName>
            </column>
            <column heading="sub_topic_management.topicType">
                <attributeName>topicType</attributeName>
            </column>
            <column heading="sub_topic_management.topicLanguage">
                <attributeName>topic_LanguageKey.languageID</attributeName>
                <attributeName>topic_LanguageKey.language</attributeName>
            </column>               
            <column heading="sub_topic_management.topicFlags">
                <attributeName>topicFlags</attributeName>
            </column>
            <column heading="sub_topic_management.topicStartSMS">
                <attributeName>topicStartSMS</attributeName>
            </column> 
            <column heading="sub_topic_management.topicReminderSMS">
                <attributeName>topicReminderSMS</attributeName>
            </column>
            <column heading="sub_topic_management.topicEndSMS">
                <attributeName>topicEndSMS</attributeName>
            </column> 
             <column heading="sub_topic_management.topicReminderTime">
                <attributeName>topicReminderTime</attributeName>
            </column> 
            <column heading="sub_topic_management.topicEscalationTime">
                <attributeName>topicEscalationTime</attributeName>
            </column> 
            <column heading="sub_topic_management.topicMaxDuration">
                <attributeName>topicMaxDuration</attributeName>
            </column>
        </table> -->

                <!-- original subtopicorders
        <table title="content_viewer.sub_topic_orders">
            <collectionSource variable="subTopicOrders"/>
            <column heading="content_viewer.umbrella_table.topicID">
                <attributeName>topic_UmbrellaUserSetup.topicID</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.topicName">
                <attributeName>topic_UmbrellaUserSetup.topicName</attributeName>
            </column>
            <column heading="umbrellaview.ordernum">
                <attributeName>ordernum</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.topicStartSMS">
                <attributeName>topic_UmbrellaUserSetup.topicStartSMS</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.topicEndSMS">
                <attributeName>topic_UmbrellaUserSetup.topicEndSMS</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.topicReminderSMS">
                <attributeName>topic_UmbrellaUserSetup.topicReminderSMS</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.topicMaxDuration">
                <attributeName>topic_UmbrellaUserSetup.topicMaxDuration</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.topicType">
                <attributeName>topic_UmbrellaUserSetup.topicType</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.topicFlags">
                <attributeName>topic_UmbrellaUserSetup.topicFlags</attributeName>
            </column>
            <column heading="content_viewer.umbrella_table.language">
                <attributeName>topic_UmbrellaUserSetup.topic_LanguageKey.language</attributeName>
            </column>
            <rowAction action="editSubTopic" label="content_viewer.subtopics.edit_subtopic">
                <binding variable="subTopicOrder"/>
            </rowAction>
            <rowAction action="editSubTopicOrder" label="subtopic_order_management.edit_sub_topic_order">
                <binding variable="subTopicOrder"/>
            </rowAction>
        </table> -->