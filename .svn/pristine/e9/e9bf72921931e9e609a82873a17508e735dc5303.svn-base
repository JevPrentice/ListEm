<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view init="init" label="topic_management.title" unit="TopicManagement">
        
        <navigation outcome="nav_edit_topic" target="TopicEdit"/>
        <navigation outcome="nav_sub_topic_order_edit" target="SubTopicOrderEdit"/>
        <navigation outcome="nav_subtopic_order_management" target="SubTopicOrderManagement"/>
        <navigation outcome="nav_sub_topic_management" target="SubTopicManagement"/>
        <navigation outcome="nav_sub_topic_edit" target="SubTopicEdit"/>

        <menuitem icon="TopicOrderManagement" label="topic_management.title" order="10">
            <userRole>ProgramManager</userRole>
        </menuitem>      

        <action label="topic_management.action.create_topic" action="navCreateTopic"/>
        <action label="topic_management.action.sub_topic_management" action="navManageSubTopics"/>
        <action label="topic_management.action.sub_topic_order_management" action="navManageSubTopicOrders"/>

        <info label="topic_management.topic_filter">
            <binding variable="topicFilter">
                <attribute name="umbrellaID"/>
            </binding>
        </info>

        <table title="topics">
            <collectionSource variable="topics"/>
            <column heading="topic.topicID">
                <attributeName>umbrellaID</attributeName>
            </column>
            <column heading="topic.topicName">
                <attributeName>umbrellaName</attributeName>
            </column>
            <column heading="topic.topicFlags">
                <attributeName>umbrellaFlags</attributeName>
            </column>
            <column heading="topic.topicMaxDuration">
                <attributeName>umbrellaMaxDuration</attributeName>
            </column>
            <rowAction action="navEditTopic" label="edit">
                <binding variable="topic"/>
            </rowAction>
            <rowAction action="deleteTopic" label="delete">
                <binding variable="topic"/>
                <confirm subject="topic_management.table.remove_topic.confirm.subject" body="topic_management.table.remove_topic.confirm.body"/>
            </rowAction>
            <rowAction action="navCreateSubTopic" label="topic_management.create_sub_topic">
                <binding variable="topic"/>
            </rowAction>
            <rowAction action="navCreateSubTopicOrder" label="topic_management.create_sub_topic_order">
                <binding variable="topic"/>
            </rowAction>
            <rowAction action="viewSubTopicOrders" label="topic_management.view_sub_topic_orders">
                <binding variable="topic"/>
            </rowAction>
        </table>
        
        <submit label="remove_filter" action="removeFiltersButton"/>

    </view>
</ui>