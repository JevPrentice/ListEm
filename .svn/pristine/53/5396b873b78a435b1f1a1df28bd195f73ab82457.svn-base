<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="user_management.add_edit_user" unit="UserEdit" init="init">

        <navigation outcome="nav_user_profile" target="UserProfile" />
        <navigation outcome="nav_group_users" target="GroupUsers" />
        <navigation outcome="nav_user_management" target="UserManagement" />

        <action label="back" action="back"/>        

        <textfield label="client.firstName">
            <binding variable="uClient">
                <attribute name="firstName"/>
            </binding>
        </textfield>

        <textfield label="client.surname">
            <binding variable="uClient">
                <attribute name="surname"/>
            </binding>
        </textfield>

        <textfield label="client.nickname">
            <binding variable="uClient">
                <attribute name="nickname"/>
            </binding>
        </textfield>

        <textfield label="client.mobileNumber">
            <binding variable="uClient">
                <attribute name="mobileNumber"/>
            </binding>
        </textfield>

        <!--<select label="user_management.group_name">
            <binding variable="group"></binding>
            <collectionSource function="getAllClientGroups">
                <displayAttribute name="name"/>
            </collectionSource>
        </select>-->

        <!-- <textfield label="user_management.role_name">
            <binding variable="uClient">
                <attribute name="roleID"/>
            </binding>
        </textfield> -->

        <select label="client.gender">
            <binding variable="uClient">
                <attribute name="gender"/>
            </binding>
            <enum>GENDER</enum>
        </select>

        <!--<select label="client.language">
            <binding variable="uClient">
                <attribute name="language"/>
            </binding>
            <enum>LANGUAGE</enum>
        </select> -->

        <select label="client.language">
            <binding variable="languageKey"/>
            <collectionSource function="LanguageKeyController:getAllLanguageKeys">
                <displayAttribute name="languageID"/>
                <displayAttribute name="language"/>
            </collectionSource>
        </select>

        <select label="client.role">
            <binding variable="roleKey"/>
            <collectionSource function="RoleKeyController:getAllRoleKeys">
                <displayAttribute name="roleID"/>
                <displayAttribute name="roleName"/>
            </collectionSource>
        </select>

        <textfield label="user_management.training_mode">
            <binding variable="uClientDetails">
                <attribute name="training_mode"/>
            </binding>
        </textfield>

        <textfield label="user_management.type_of_phone">
            <binding variable="uClientDetails">
                <attribute name="type_of_phone"/>
            </binding>
        </textfield>

        <textfield label="user_management.platform_type">
            <binding variable="uClientDetails">
                <attribute name="platform_type"/>
            </binding>
        </textfield>

        <textfield label="user_management.mobile_service_provider">
            <binding variable="uClientDetails">
                <attribute name="mobile_service_provider"/>
            </binding>
        </textfield>

        <textfield label="user_management.education_level">
            <binding variable="uClientDetails">
                <attribute name="education_level"/>
            </binding>
        </textfield>

        <textfield label="user_management.years_at_chv">
            <binding variable="uClientDetails">
                <attribute name="years_at_chv"/>
            </binding>
        </textfield>

        <textfield label="user_management.email_address">
            <binding variable="uClientDetails">
                <attribute name="email_address"/>
            </binding>
        </textfield>

        <datefield label="user_management.date_of_birth">
            <binding variable="uClientDetails">
                <attribute name="date_of_birth"/>
            </binding>
        </datefield>

        <submit label="user_management.button.saveUser" action="saveUser"/>
    </view>
</ui>