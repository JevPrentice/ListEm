<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="group_users.title" unit="GroupUsers" init="init">

        <navigation outcome="nav_group_management" target="GroupManagement" />
        <navigation outcome="nav_user_edit" target="UserEdit" />
        <navigation outcome="nav_user_profile" target="UserProfile" />
        <navigation outcome="nav_user_activty" target="UserActivity" />
        <navigation outcome="nav_group_performance" target="GroupPerformance" />
        <navigation outcome="nav_group_users" target="GroupUsers" />

        <action label="back" action="back"/>
        <action label="group_users.group_performance" action="nav_group_performance"/>

        <info label="group_users.group_name">
            <binding variable="group">
                <attribute name="name"/>
            </binding>
        </info>
        
        <table title="group_users.table.associated_users">
            <collectionSource variable="associated_clients"/>
            <column heading="client.firstName">
                <attributeName>firstName</attributeName>
            </column>
            <column heading="client.nickname">
                <attributeName>nickname</attributeName>
            </column>
            <column heading="client.surname">
                <attributeName>surname</attributeName>
            </column>
            <column heading="client.language">
                <attributeName>client_LanguageKey.language</attributeName>
            </column>
            <column heading="client.mobileNumber">
                <attributeName>mobileNumber</attributeName>
            </column>
            <column heading="group_edit.table.role_name">
                <attributeName>client_RoleKey.roleName</attributeName>
            </column>
            <column heading="registered">
                <attributeName>registered</attributeName>
            </column>
            <rowAction label="group_users.table.unassociate_user" action="unLinkUser">
                <binding variable="linkedUser"/>
            </rowAction>
            <rowAction label="user_management.table.row.view_profile" action="view_profile">
                <binding variable="linkedUser"/>
            </rowAction>
            <rowAction label="user_management.table.row.view_activity" action="view_activity">
                <binding variable="linkedUser"/>
            </rowAction>
        </table>

        <table title="group_users.table.unassociated_users">
            <collectionSource variable="unassociated_clients"/>
            <column heading="client.firstName">
                <attributeName>firstName</attributeName>
            </column>
            <column heading="client.nickname">
                <attributeName>nickname</attributeName>
            </column>
            <column heading="client.surname">
                <attributeName>surname</attributeName>
            </column>
            <column heading="client.language">
                <attributeName>client_LanguageKey.language</attributeName>
            </column>
            <column heading="client.mobileNumber">
                <attributeName>mobileNumber</attributeName>
            </column>
             <column heading="group_edit.table.role_name">
                <attributeName>client_RoleKey.roleName</attributeName>
            </column>
            <column heading="registered">
                <attributeName>registered</attributeName>
            </column>
            <rowAction label="group_users.table.associate_user" action="linkUser">
                <binding variable="unLinkedUser"/>
            </rowAction>
        </table>

    </view>
</ui>