<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="SubTopicUserScheduleEdit" unit="SubTopicUserScheduleEdit" init="init">

        <navigation outcome="navSubTopicUserScheduling" target="SubTopicUserScheduling" />
        <action label="back" outcome="navSubTopicUserScheduling"/>
        
        <submit label="reset" action="reset"/>

        <select label="UserTopicScheduling.groupFilter">
            <binding variable="selectedGroup"/>
    		<collectionSource function="UserGroupController:getAllClientGroups">
				<displayAttribute name="name"/>
			</collectionSource>
		</select>

        <submit label="SubTopicUserScheduling.showUsersForGroup" action="showUsersForGroup"/>

        <select label="user">
            <binding variable="selectedUser"/>
            <collectionSource variable="userArr">
                <displayAttribute name="firstName"/>
                <displayAttribute name="surname"/>
                <displayAttribute name="mobileNumber"/>
            </collectionSource>
        </select>

        <select label="topic.topicID">
            <binding variable="selectedTopic"/>
            <collectionSource function="TopicController:getAllTopicsNotMarkedNoReport">
                <displayAttribute name="umbrellaID"/>
            </collectionSource>
        </select>

        <submit label="SubTopicUserScheduling.showSubTopicsForTopic" action="showSubTopicsForTopic"/>

        <select label="sub_topic.subTopicID">
            <binding variable="selectedSubTopic"/>
            <collectionSource variable="subTopicArr">
                <displayAttribute name="topicID"/>
            </collectionSource>
        </select>

        <textfield label="topicUser.topicOrder">
            <binding variable="order">
            </binding>
        </textfield>

        <textfield label="topic.active">
            <binding variable="active">
            </binding>
        </textfield>

        <textfield label="sub_topic.subTopicRunType">
            <binding variable="runType">
            </binding>
        </textfield>

        <datefield label="topicUser.topicMinStartDate">
            <binding variable="minStartDate">
            </binding>
        </datefield>
        
        <submit label="save" action="saveTus"/>

    </view>
</ui>