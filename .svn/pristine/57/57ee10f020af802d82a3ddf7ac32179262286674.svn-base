<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="SubTopicGroupScheduling" unit="TopicUserSetupList" init="init">
    
        <navigation outcome="navIndividualScheduling" target="SubTopicUserScheduling" />
        <action label="UserScheduleSummary" outcome="navIndividualScheduling"/>
        
        <select label="client_group.info">
            <binding variable="sClientGroup"/>
    		<collectionSource function="UserGroupController:getAllClientGroups">
				<displayAttribute name="name"/>
			</collectionSource>
		</select>

        <select label="topic.topicID">
            <binding variable="umbrellaSchedule"/>
           <collectionSource function="Umbrella:umbrellaview_umbrellas">
                <displayAttribute name="umbrellaID"/>
            </collectionSource>
        </select>

        <submit label="filter" action="fFilterForGroup"/>
        
        <select label="client.language">
       		<binding variable="languageKey"/>
           <collectionSource function="LanguageKeyController:getAllLanguageKeys">
				<displayAttribute name="languageID"/>
				<displayAttribute name="language"/>
			</collectionSource>
        </select>
        
		<select label="sub_topic.subTopicID">
			<binding variable="topic"/>
			<collectionSource function="fGetTopicsByUmbrella">
				<displayAttribute name="topicID"/>
			</collectionSource>
		</select>
		 
		<textfield label="topicUser.topicOrder">
            <binding variable="topicUserSetup">
                <attribute name="topicOrder"/>
            </binding>
        </textfield>
        <textfield label="topic.active">
            <binding variable="topicUserSetup">
                <attribute name="active"/>
            </binding>
        </textfield>
        <textfield label="sub_topic.subTopicRunType">
            <binding variable="topicUserSetup">
                <attribute name="runType"/>
            </binding>
        </textfield>
       <datefield label="topicUser.topicMinStartDate">
            <binding variable="topicUserSetup">
                <attribute name="topicMinStartDate"/>
            </binding>
        </datefield>
        
		<submit label="button.submitGroup" action="saveTopicUserSetupGroup"/>
        <submit label="button.pauseGroup" action="pauseTopicUserSetupGroup"/>
        <submit label="button.resumeGroup" action="resumeTopicUserSetupGroup"/>
        <submit label="button.stopGroup" action="stopTopicUserSetupGroup"/>

        <table title="learningManager.topicUserList.list">
            <collectionSource function="fGetAllTopicUserSetupsGroup"/>
            <column heading="topicUser.topicUserID">
                
                <attributeName>client_topicUserSetup.mobileNumber</attributeName>
                <attributeName>client_topicUserSetup.firstName</attributeName>
                <attributeName>client_topicUserSetup.surname</attributeName>
                
            </column>

            <column heading="topic.topicID">
                <attributeName>umbrella_topicUserSetup.umbrellaID</attributeName>
            </column>

            <column heading="topic.topicID">
                <attributeName>topic_topicUserSetup.topicID</attributeName>
            </column>
            
         	<column heading="sub_topic.subTopicType">
                <attributeName>topic_topicUserSetup.topicType</attributeName>
            </column>
         
             <column heading="topicUser.topicOrder">
                <attributeName>topicOrder</attributeName>
            </column> 
            
            <column heading="topic.active">
                <attributeName>active</attributeName>
            </column>

            <column heading="sub_topic.subTopicRunType">
                <attributeName>runType</attributeName>
            </column> 
            
            <column heading="topicUser.topicMinStartDate">
                <attributeName>topicMinStartDate</attributeName>
            </column> 
            
            <!--<rowAction label="learningManager.topicList.list.edit" action="editTopicUserSetup">
                <binding variable="topicUserSetup"/>
            </rowAction>-->
            <rowAction label="learningManager.topicList.list.remove" action="deleteTopicUserSetup">
                <binding variable="deleteTopicUserSetup"/>
                <confirm subject="confirm_subject.deleteTopicUserSetup" body="confirm_body.deleteTopicUserSetup"/>
            </rowAction>
            <rowAction label="learningManager.topicList.list.start" action="fStartTopicUserSetup">
                <binding variable="startTopicUserSetup"/>
                <confirm subject="confirm_subject.fStartTopicUserSetup" body="confirm_body.fStartTopicUserSetup"/>
            </rowAction>
             <rowAction label="learningManager.topicList.list.end" action="ForceTopicUserEnd">
                <binding variable="startTopicUserSetup"/>
                <confirm subject="confirm_subject.ForceTopicUserEnd" body="confirm_body.ForceTopicUserEnd"/>
            </rowAction>
        </table>

        <submit label="button.clearGroup" action="clearTopicUserSetupGroup"/>

    </view>
</ui>