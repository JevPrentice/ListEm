<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="learningManager.patternMessageTextList.title" unit="PatternMassageTextController" init="init">
    
       <!--<menuitem label="learningManager.patternMessageTextList.menu" icon="Users" order="42">
            <userRole>LearningManager</userRole>
        </menuitem>-->
        
        <navigation outcome="back" target="SystemOverview" />
        <action label="back" outcome="back"/>
     
		<select label="patternType.selectPattern">
			<binding variable="pattern"/>
			<collectionSource function="PatternList:fGetSMSPatterns">
				<displayAttribute name="patternID"/>
			</collectionSource>
		</select>
        
       <select label="message.messageID">
       		<binding variable="message"/>
           <collectionSource function="MessageList:getAllMessages">
				<displayAttribute name="_MTID"/>
			</collectionSource>
        </select>
 		<textfield label="messageOrder">
            <binding variable="patternMassageText">
                <attribute name="_MTID_order"/>
            </binding>
        </textfield>

        <submit label="submit" action="savePatternMassageText"/>

        <table title="patternMessageTextList.list.title">
            <collectionSource function="getAllPatternMassageTexts"/>
            
           <column heading="activity.activityID">
                <attributeName>patternMessageTextID_pattern.patternID</attributeName>
            </column>
            
            <column heading="message.messageID">
                <attributeName>patternMessageText_Message._MTID</attributeName>
            </column>
            <column heading="messageOrder">
                <attributeName>_MTID_order</attributeName>
            </column>
            <rowAction label="edit" action="editPatternMassageText">
                <binding variable="patternMassageText"/>
            </rowAction>

            <rowAction label="delete" action="removePatternMassageText">
                <binding variable="deletePatternMassageText"/>
            </rowAction>
        </table>
        
    </view>
</ui>