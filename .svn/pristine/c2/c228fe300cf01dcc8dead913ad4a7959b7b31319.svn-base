<?xml version="1.0" encoding="UTF-8"?>
<ui xmlns="http://uiprogram.mezzanine.com/View" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://uiprogram.mezzanine.com/View ../../xsd/View.xsd">
    <view label="learningManager.monitoring.title" unit="uMonitoring">
 
        <navigation outcome="back" target="SystemOverview" />
        <action label="back" outcome="back"/>

        <table title="ScheduleURL.fGetAllScheduleURL">
            <collectionSource function="uMonitoring:fGetAllScheduleURL"/>
            <column heading="ScheduleURL.dateTimeStampInserted">
                <attributeName>dateTimeStampInserted</attributeName>
            </column>            
            <column heading="ScheduleURL.url">
                <attributeName>url</attributeName>
            </column>            
            <column heading="ScheduleURL.dateTimeStampUsed">
                <attributeName>dateTimeStampUsed</attributeName>
            </column>            
            <column heading="ScheduleURL.status">
                <attributeName>status</attributeName>
            </column>            
        </table>

        <table title="AllSMSLog.PendingSMSqueue">
            <collectionSource function="fGetAllPendingSMSQueue"/>
            <column heading="AllSMSLog.dateTimeStamp">
                <attributeName>smsDateTime</attributeName>
            </column>
            <column heading="AllSMSLog.mobileNumber">
                <attributeName>c_clientsmsqueue.mobileNumber</attributeName>
                <attributeName>c_clientsmsqueue.firstName</attributeName>
            </column>
              <column heading="AllSMSLog.messageText">
                <attributeName>smsText</attributeName>
            </column>
        </table>  
        
        <submit label="button.sendprogressmessagebulk" action="fSendBulkProgressMessage"/>
        
        <table title="learningManager.TopicHistory.PendingPatternTableTitle">
            <collectionSource function="fGetAllPendingPatternHistorys"/>
            <column heading="learningManager.TopicHistory.Sequence">
                <attributeName>sequence_patternHistory.sequenceName</attributeName>
            </column>
            <column heading="learningManager.TopicHistory.Pattern">
                <attributeName>pattern_patternHistory.patternID</attributeName>
                <!-- <attributeName>pattern_patternHistory.PatternChannelKey.patternChannelDescription</attributeName> -->
            </column>
            <column heading="activity.activityChannel">
                <attributeName>pattern_patternHistory.PatternChannelKey.patternChannelDescription</attributeName>
            </column>
            <column heading="learningManager.TopicHistory.Client">
                <attributeName>client_patternHistory.mobileNumber</attributeName>
                <attributeName>client_patternHistory.firstName</attributeName>
            </column>
            <column heading="learningManager.TopicHistory.startDate">
                <attributeName>startDate</attributeName>
            </column>
            <column heading="learningManager.TopicHistory.reminderTime">
                <attributeName>reminderTime</attributeName>
            </column>
            <column heading="learningManager.TopicHistory.actualEndDate">
                <attributeName>actualEndDate</attributeName>
            </column>
            <column heading="learningManager.TopicHistory.statusID">
                <attributeName>statusID</attributeName>
            </column>
        </table>        

        <table title="AllSMSLog.Last10Incoming.title">
            <collectionSource function="fGetLast10SMSLogs"/>
            <column heading="AllSMSLog.dateTimeStamp">
                <attributeName>dateTimeStamp</attributeName>
            </column>
            <column heading="AllSMSLog.mobileNumber">
                <attributeName>allSMSLog_client.mobileNumber</attributeName>
                <attributeName>allSMSLog_client.firstName</attributeName>
            </column>
            <column heading="AllSMSLog.direction">
                <attributeName>direction</attributeName>
            </column>            
              <column heading="AllSMSLog.messageText">
                <attributeName>messageText</attributeName>
            </column>
        </table>  
        
    </view>
</ui>